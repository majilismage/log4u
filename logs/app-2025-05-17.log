{"timestamp":"2025-05-17 12:41:39.731","level":"INFO","message":"Starting media upload request","data":null}
{"timestamp":"2025-05-17 12:41:39.741","level":"DEBUG","message":"Form data received","data":{"fields":["file","journeyId","town","country","journeyDate"]}}
{"timestamp":"2025-05-17 12:41:39.742","level":"DEBUG","message":"Parsed form fields","data":{"hasFile":true,"fileName":"Metrics Title Image.png","fileType":"image/png","journeyId":"J1747478488951","town":"Helsinki","country":"Finland","journeyDate":"2025-04-20T00:00:00.000Z"}}
{"timestamp":"2025-05-17 12:41:39.742","level":"DEBUG","message":"Converting file to buffer","data":{"fileName":"Metrics Title Image.png","fileSize":2814354}}
{"timestamp":"2025-05-17 12:41:39.743","level":"INFO","message":"Starting Google Drive upload","data":{"fileName":"Metrics Title Image.png","journeyId":"J1747478488951"}}
{"timestamp":"2025-05-17 12:41:39.743","level":"INFO","message":"Starting Google Drive upload","data":{"journeyId":"J1747478488951","fileName":"Metrics Title Image.png","mimeType":"image/png"}}
{"timestamp":"2025-05-17 12:41:39.743","level":"DEBUG","message":"Created JWT client for Google Drive","data":null}
{"timestamp":"2025-05-17 12:41:43.963","level":"DEBUG","message":"Created/retrieved folder structure","data":{"folders":{"yearId":"1k1swu9pG0Izso2Lf_koe_572_C3RErnW","monthId":"1SpAB0XGx7NKaEWWA9tg_eCUcbzhXlTfD","journeyId":"1ciC0RG0TmNJFSYjoI6hdZiR_b8kVEXdF","mediaTypeId":"17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"}}}
{"timestamp":"2025-05-17 12:41:43.964","level":"INFO","message":"Media folder link","data":{"mediaType":"image","folderId":"17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ","folderLink":"https://drive.google.com/drive/folders/17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"}}
{"timestamp":"2025-05-17 12:41:47.627","level":"DEBUG","message":"File uploaded successfully","data":{"fileId":"18xT61BT7gA4qnNcVvN7baWxe6lttPw1K"}}
{"timestamp":"2025-05-17 12:41:48.593","level":"DEBUG","message":"File permissions set to anyone with link","data":null}
{"timestamp":"2025-05-17 12:41:48.950","level":"INFO","message":"Successfully uploaded media to Drive","data":{"journeyId":"J1747478488951","mediaType":"image","path":"2025/04/J1747478488951/images/helsinki-finland_20-Apr-2025_metrics-title-image_d14e4e.png","folderLink":"https://drive.google.com/drive/folders/17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"}}
{"timestamp":"2025-05-17 12:41:48.951","level":"INFO","message":"Upload completed successfully","data":{"fileId":"18xT61BT7gA4qnNcVvN7baWxe6lttPw1K","path":"2025/04/J1747478488951/images/helsinki-finland_20-Apr-2025_metrics-title-image_d14e4e.png","folderLink":"https://drive.google.com/drive/folders/17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"}}
{"timestamp":"2025-05-17 12:41:49.212","level":"ERROR","message":"DEBUG: Entered saveToGoogleSheets","data":{"error":{"entry":{"journeyId":"J1747478488951","departureDate":"2025-04-20","arrivalDate":"2025-04-20","fromTown":"Stockholm","fromCountry":"Sweden","fromLat":59.3293,"fromLng":18.0686,"toTown":"Helsinki","toCountry":"Finland","toLat":60.1699,"toLng":24.9384,"distance":"438","avgSpeed":"4","maxSpeed":"8","notes":"Mock journey from Stockholm to Helsinki","imageLinks":"https://drive.google.com/drive/folders/17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"},"typeofImageLinks":"string","imageLinks":"https://drive.google.com/drive/folders/17elimbFN-BQ-ZdT-XyZGnkxTkviOXDEZ"}}}
{"timestamp":"2025-05-17 12:41:49.213","level":"INFO","message":"Starting Google Sheets entry save","data":{"journeyId":"J1747478488951","mediaInfo":{"hasImages":true,"hasVideos":false,"imageLinksLength":72,"videoLinksLength":0}}}
{"timestamp":"2025-05-17 12:41:49.213","level":"DEBUG","message":"Created JWT client for Google Sheets","data":null}
{"timestamp":"2025-05-17 12:41:50.033","level":"DEBUG","message":"Loaded Google Sheet","data":{"sheetTitle":"Log4u-test"}}
{"timestamp":"2025-05-17 12:41:50.033","level":"DEBUG","message":"Accessed sheet","data":{"sheetTitle":"Sheet1"}}
{"timestamp":"2025-05-17 12:41:50.033","level":"ERROR","message":"Failed to save entry to Google Sheets","data":{"error":{"error":"Header values are not yet loaded","journeyId":"J1747478488951"}}}
{"timestamp":"2025-05-17 12:43:19.352","level":"INFO","message":"Starting media upload request","data":null}
{"timestamp":"2025-05-17 12:43:19.435","level":"DEBUG","message":"Form data received","data":{"fields":["file","journeyId","town","country","journeyDate"]}}
{"timestamp":"2025-05-17 12:43:19.436","level":"DEBUG","message":"Parsed form fields","data":{"hasFile":true,"fileName":"Metrics Title Image.png","fileType":"image/png","journeyId":"J1747478589051","town":"Marseille","country":"France","journeyDate":"2025-05-01T00:00:00.000Z"}}
{"timestamp":"2025-05-17 12:43:19.436","level":"DEBUG","message":"Converting file to buffer","data":{"fileName":"Metrics Title Image.png","fileSize":2814354}}
{"timestamp":"2025-05-17 12:43:19.439","level":"INFO","message":"Starting Google Drive upload","data":{"fileName":"Metrics Title Image.png","journeyId":"J1747478589051"}}
{"timestamp":"2025-05-17 12:43:19.439","level":"INFO","message":"Starting Google Drive upload","data":{"journeyId":"J1747478589051","fileName":"Metrics Title Image.png","mimeType":"image/png"}}
{"timestamp":"2025-05-17 12:43:19.440","level":"DEBUG","message":"Created JWT client for Google Drive","data":null}
{"timestamp":"2025-05-17 12:43:22.751","level":"DEBUG","message":"Created/retrieved folder structure","data":{"folders":{"yearId":"1k1swu9pG0Izso2Lf_koe_572_C3RErnW","monthId":"1tSufFfCA9wRfVijs1LniJIVVMRyGg1Dz","journeyId":"1JqvnX-nXWgCnxzk9HCy9TNi7wAVE0YL7","mediaTypeId":"1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"}}}
{"timestamp":"2025-05-17 12:43:22.751","level":"INFO","message":"Media folder link","data":{"mediaType":"image","folderId":"1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4","folderLink":"https://drive.google.com/drive/folders/1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"}}
{"timestamp":"2025-05-17 12:43:26.232","level":"DEBUG","message":"File uploaded successfully","data":{"fileId":"1HuwNC8Oz94XWm1rSYRBylWr2vlthTrOH"}}
{"timestamp":"2025-05-17 12:43:27.247","level":"DEBUG","message":"File permissions set to anyone with link","data":null}
{"timestamp":"2025-05-17 12:43:27.552","level":"INFO","message":"Successfully uploaded media to Drive","data":{"journeyId":"J1747478589051","mediaType":"image","path":"2025/05/J1747478589051/images/marseille-france_01-May-2025_metrics-title-image_1b98a7.png","folderLink":"https://drive.google.com/drive/folders/1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"}}
{"timestamp":"2025-05-17 12:43:27.553","level":"INFO","message":"Upload completed successfully","data":{"fileId":"1HuwNC8Oz94XWm1rSYRBylWr2vlthTrOH","path":"2025/05/J1747478589051/images/marseille-france_01-May-2025_metrics-title-image_1b98a7.png","folderLink":"https://drive.google.com/drive/folders/1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"}}
{"timestamp":"2025-05-17 12:43:28.175","level":"ERROR","message":"DEBUG: Entered saveToGoogleSheets","data":{"error":{"entry":{"journeyId":"J1747478589051","departureDate":"2025-05-01","arrivalDate":"2025-05-01","fromTown":"Barcelona","fromCountry":"Spain","fromLat":41.3851,"fromLng":2.1734,"toTown":"Marseille","toCountry":"France","toLat":43.2965,"toLng":5.3698,"distance":"31","avgSpeed":"4","maxSpeed":"7","notes":"Mock journey from Barcelona to Marseille","imageLinks":"https://drive.google.com/drive/folders/1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"},"typeofImageLinks":"string","imageLinks":"https://drive.google.com/drive/folders/1lkJ7n9AJVmb_6U2omi0wPwD-vTqNAwt4"}}}
{"timestamp":"2025-05-17 12:43:28.176","level":"INFO","message":"Starting Google Sheets entry save","data":{"journeyId":"J1747478589051","mediaInfo":{"hasImages":true,"hasVideos":false,"imageLinksLength":72,"videoLinksLength":0}}}
{"timestamp":"2025-05-17 12:43:28.176","level":"DEBUG","message":"Created JWT client for Google Sheets","data":null}
{"timestamp":"2025-05-17 12:43:28.690","level":"DEBUG","message":"Loaded Google Sheet","data":{"sheetTitle":"Log4u-test"}}
{"timestamp":"2025-05-17 12:43:28.690","level":"DEBUG","message":"Accessed sheet","data":{"sheetTitle":"Sheet1"}}
{"timestamp":"2025-05-17 12:43:28.690","level":"ERROR","message":"Failed to save entry to Google Sheets","data":{"error":{"error":"Header values are not yet loaded","journeyId":"J1747478589051"}}}
{"timestamp":"2025-05-17 12:49:33.355","level":"INFO","message":"Starting media upload request","data":null}
{"timestamp":"2025-05-17 12:49:33.364","level":"DEBUG","message":"Form data received","data":{"fields":["file","journeyId","town","country","journeyDate"]}}
{"timestamp":"2025-05-17 12:49:33.365","level":"DEBUG","message":"Parsed form fields","data":{"hasFile":true,"fileName":"Metrics Title Image.png","fileType":"image/png","journeyId":"J1747478963221","town":"Copenhagen","country":"Denmark","journeyDate":"2025-05-10T00:00:00.000Z"}}
{"timestamp":"2025-05-17 12:49:33.365","level":"DEBUG","message":"Converting file to buffer","data":{"fileName":"Metrics Title Image.png","fileSize":2814354}}
{"timestamp":"2025-05-17 12:49:33.365","level":"INFO","message":"Starting Google Drive upload","data":{"fileName":"Metrics Title Image.png","journeyId":"J1747478963221"}}
{"timestamp":"2025-05-17 12:49:33.365","level":"INFO","message":"Starting Google Drive upload","data":{"journeyId":"J1747478963221","fileName":"Metrics Title Image.png","mimeType":"image/png"}}
{"timestamp":"2025-05-17 12:49:33.365","level":"DEBUG","message":"Created JWT client for Google Drive","data":null}
{"timestamp":"2025-05-17 12:49:36.924","level":"DEBUG","message":"Created/retrieved folder structure","data":{"folders":{"yearId":"1k1swu9pG0Izso2Lf_koe_572_C3RErnW","monthId":"1tSufFfCA9wRfVijs1LniJIVVMRyGg1Dz","journeyId":"1viqUUle-XDzOMF_CXXnU7WiBbuSjaQeQ","mediaTypeId":"1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}}
{"timestamp":"2025-05-17 12:49:36.924","level":"INFO","message":"Media folder link","data":{"mediaType":"image","folderId":"1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd","folderLink":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}
{"timestamp":"2025-05-17 12:49:41.352","level":"DEBUG","message":"File uploaded successfully","data":{"fileId":"18MbP7WxGa18Jybk6ZbAWbspMEPBGzZ1e"}}
{"timestamp":"2025-05-17 12:49:42.453","level":"DEBUG","message":"File permissions set to anyone with link","data":null}
{"timestamp":"2025-05-17 12:49:42.792","level":"INFO","message":"Successfully uploaded media to Drive","data":{"journeyId":"J1747478963221","mediaType":"image","path":"2025/05/J1747478963221/images/copenhagen-denmark_10-May-2025_metrics-title-image_71d5f3.png","folderLink":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}
{"timestamp":"2025-05-17 12:49:42.792","level":"INFO","message":"Upload completed successfully","data":{"fileId":"18MbP7WxGa18Jybk6ZbAWbspMEPBGzZ1e","path":"2025/05/J1747478963221/images/copenhagen-denmark_10-May-2025_metrics-title-image_71d5f3.png","folderLink":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}
{"timestamp":"2025-05-17 12:49:43.087","level":"ERROR","message":"DEBUG: Entered saveToGoogleSheets","data":{"error":{"entry":{"journeyId":"J1747478963221","departureDate":"2025-05-10","arrivalDate":"2025-05-10","fromTown":"Oslo","fromCountry":"Norway","fromLat":59.9139,"fromLng":10.7522,"toTown":"Copenhagen","toCountry":"Denmark","toLat":55.6761,"toLng":12.5683,"distance":"140","avgSpeed":"5","maxSpeed":"7","notes":"Mock journey from Oslo to Copenhagen","imageLinks":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"},"typeofImageLinks":"string","imageLinks":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}}
{"timestamp":"2025-05-17 12:49:43.087","level":"INFO","message":"Starting Google Sheets entry save","data":{"journeyId":"J1747478963221","mediaInfo":{"hasImages":true,"hasVideos":false,"imageLinksLength":72,"videoLinksLength":0}}}
{"timestamp":"2025-05-17 12:49:43.087","level":"DEBUG","message":"Created JWT client for Google Sheets","data":null}
{"timestamp":"2025-05-17 12:49:43.785","level":"DEBUG","message":"Loaded Google Sheet","data":{"sheetTitle":"Log4u-test"}}
{"timestamp":"2025-05-17 12:49:43.785","level":"DEBUG","message":"Accessed sheet","data":{"sheetTitle":"Sheet1"}}
{"timestamp":"2025-05-17 12:49:44.049","level":"DEBUG","message":"Raw imageLinks value","data":{"value":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd","type":"string"}}
{"timestamp":"2025-05-17 12:49:44.050","level":"DEBUG","message":"Raw videoLinks value","data":{"type":"undefined"}}
{"timestamp":"2025-05-17 12:49:44.050","level":"DEBUG","message":"Branch: imageLinks is a folder link","data":null}
{"timestamp":"2025-05-17 12:49:44.050","level":"INFO","message":"Saving image folder link to sheet","data":{"imageFolderLink":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd"}}
{"timestamp":"2025-05-17 12:49:44.050","level":"DEBUG","message":"Prepared row data for sheet","data":{"journeyId":"J1747478963221","imageLinks":"https://drive.google.com/drive/folders/1LKowe1Mhx_Od2yXgq8tcKUs6gRB2Q2jd","videoLinks":""}}
{"timestamp":"2025-05-17 12:49:44.550","level":"INFO","message":"Successfully added row to sheet","data":{"journeyId":"J1747478963221","timestamp":"2025-05-17T10:49:44.050Z","mediaInfo":{"hasImages":true,"hasVideos":false}}}
